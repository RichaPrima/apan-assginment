(this["webpackJsonpapna-assignment"]=this["webpackJsonpapna-assignment"]||[]).push([[0],{12:function(e,t,a){e.exports={main:"Header_main__2r9vH",searchBar:"Header_searchBar__2X5HD"}},25:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__3KMEO"}},26:function(e,t,a){e.exports={main:"Loader_main__gFDWN"}},31:function(e,t,a){},32:function(e,t,a){},4:function(e,t,a){e.exports={main:"MovieCard_main__1qEmM",moviePoster:"MovieCard_moviePoster__Pbaa7",movieInfo:"MovieCard_movieInfo__z308t",movieName:"MovieCard_movieName__3vvD0",movieReview:"MovieCard_movieReview__3XzdH",movieRatings:"MovieCard_movieRatings__2UBWi",movieReviewSeparator:"MovieCard_movieReviewSeparator__2JASM",movieVotes:"MovieCard_movieVotes__3xScs",movieReleased:"MovieCard_movieReleased__1YCXk",movieDate:"MovieCard_movieDate__3jXia"}},54:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),i=a.n(c),s=(a(31),a(32),a(5)),o=a.n(s),u=a(13),l=a(8),v=a(3),d=a(23),m="55903b004b65252bf433fb4218601d2c",j=a.n(d).a.create({baseURL:"https://api.themoviedb.org/3"}),b=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,j.get("/discover/movie",{params:{api_key:m,language:"en-US",sort_by:"popularity.desc",page:t}});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),h=a(24),g=a.n(h),f=a.p+"static/media/searchIcon.3bd7c07e.svg",O=a(25),p=a.n(O),_=a(0),x=function(e){var t=e.className,a=e.onSearch,r=Object(n.useState)(""),c=Object(v.a)(r,2),i=c[0],s=c[1];return Object(_.jsxs)("div",{className:g()(t,p.a.searchbar),children:[Object(_.jsx)("input",{onChange:function(e){!function(e){var t=e.target.value;s(t),a&&a(t)}(e)},type:"text",name:"search",value:i,placeholder:"Search"}),Object(_.jsx)("img",{src:f,alt:"Search"})]})},C=a.p+"static/media/logo.31f05e23.svg",M=a(12),S=a.n(M),N=function(e){var t=e.onSearchTextChanged;return Object(_.jsxs)("div",{className:S.a.main,children:[Object(_.jsx)("img",{src:C,alt:"Logo"}),Object(_.jsx)(x,{onSearch:t,className:S.a.searchBar})]})},w=a(26),R=a.n(w),D=function(){return Object(_.jsx)("div",{className:R.a.main,children:"Loading..."})},k=a.p+"static/media/star.1d3ddb4d.svg",y=a.p+"static/media/user.eaf5096f.svg",P=a.p+"static/media/calendar.82ace947.svg",I=a(4),L=a.n(I),H=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],B=function(e){var t=new Date(e);return"".concat(H[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},F=function(e){var t=e.name,a=e.imgUrl,n=e.rating,r=e.ratingCount,c=e.releaseDate;return Object(_.jsxs)("div",{className:L.a.main,children:[Object(_.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(a),alt:"Movie's Poster",className:L.a.moviePoster}),Object(_.jsxs)("div",{className:L.a.movieInfo,children:[Object(_.jsx)("div",{className:L.a.movieName,children:t}),Object(_.jsxs)("div",{className:L.a.movieReview,children:[Object(_.jsxs)("span",{className:L.a.movieRatings,children:[Object(_.jsx)("img",{src:k,alt:L.a.YellowStar}),n]}),Object(_.jsx)("span",{className:L.a.movieReviewSeparator,children:"|"}),Object(_.jsxs)("span",{className:L.a.movieVotes,children:[r,Object(_.jsx)("img",{src:y,alt:"User"})]})]}),Object(_.jsxs)("div",{className:L.a.movieReleased,children:[Object(_.jsx)("img",{src:P,alt:"Calendar"}),Object(_.jsx)("span",{children:"Released: "}),Object(_.jsx)("span",{className:L.a.movieDate,children:B(c)})]})]})]})},U=a(9),E=a.n(U),J=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(v.a)(c,2),s=i[0],d=i[1],m=Object(n.useState)(""),j=Object(v.a)(m,2),h=j[0],g=j[1],f=Object(n.useState)(1),O=Object(v.a)(f,2),p=O[0],x=O[1],C=Object(n.useRef)(null),M=function(e){var t=e.root,a=void 0===t?null:t,r=e.rootMargin,c=void 0===r?"0px":r,i=e.threshold,s=void 0===i?0:i,o=Object(n.useState)(),u=Object(v.a)(o,2),l=u[0],d=u[1],m=Object(n.useState)(null),j=Object(v.a)(m,2),b=j[0],h=j[1],g=Object(n.useRef)(new window.IntersectionObserver((function(e){var t=Object(v.a)(e,1)[0];d(t)}),{root:a,rootMargin:c,threshold:s}));return Object(n.useEffect)((function(){var e=g.current;return e.disconnect(),b&&e.observe(b),function(){return e.disconnect()}}),[b]),[h,l]}({root:C.current,rootMargin:"24px",threshold:.75}),S=Object(v.a)(M,2),w=S[0],R=S[1];Object(n.useEffect)((function(){(null===R||void 0===R?void 0:R.isIntersecting)&&x((function(e){return e+1}))}),[null===R||void 0===R?void 0:R.isIntersecting]),Object(n.useEffect)((function(){P()}),[p]);var k,y,P=Object(n.useCallback)(Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,b(p);case 3:(null===(t=e.sent)||void 0===t?void 0:t.data)&&r(1===p?t.data.results:function(e){return[].concat(Object(u.a)(e),Object(u.a)(t.data.results))}),d(!1);case 6:case"end":return e.stop()}}),e)}))),[p]),I=(k=function(e){g(e)},y=300,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];clearTimeout(0),setTimeout((function(){return k.apply(void 0,t)}),y)}),L=Object(n.useMemo)((function(){return a.filter((function(e){var t;return null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase())})).map((function(e){return Object(_.jsx)(F,{name:e.title,imgUrl:e.backdrop_path,rating:e.vote_average,ratingCount:e.vote_count,releaseDate:e.release_date},e.id)}))}),[h]),H=Object(n.useMemo)((function(){return a.map((function(e,t,a){return Object(_.jsx)("div",{ref:t===a.length-1&&0===h.length?w:null,children:Object(_.jsx)(F,{name:e.title,imgUrl:e.backdrop_path,rating:e.vote_average,ratingCount:e.vote_count,releaseDate:e.release_date})},e.id)}))}),[a,w,h.length]),B=(null===h||void 0===h?void 0:h.length)>0&&0===L.length?Object(_.jsx)("div",{className:E.a.message,children:"No results found."}):null;return Object(_.jsxs)("div",{className:E.a.main,children:[Object(_.jsx)(N,{onSearchTextChanged:I}),h.length>0?Object(_.jsx)("h1",{children:"Search Results"}):Object(_.jsx)("h1",{children:"Latest Movies"}),Object(_.jsx)("div",{className:E.a.movieContainer,ref:C,children:0===(null===h||void 0===h?void 0:h.length)?H:L}),B,s&&Object(_.jsx)(D,{})]})};var T=function(){return Object(_.jsx)(J,{})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(T,{})}),document.getElementById("root")),A()},9:function(e,t,a){e.exports={main:"HomePage_main__wbW0Y",movieContainer:"HomePage_movieContainer__37kMe",message:"HomePage_message__2qCn7"}}},[[54,1,2]]]);
//# sourceMappingURL=main.4e161328.chunk.js.map